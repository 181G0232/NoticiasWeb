@model NoticiasWeb.Models.ViewModels.IndexViewModel
@{
    Layout = "Layout";
}

<h2>@(Model.Categoria?.Nombre ?? "Todas")</h2>

<form action="~/Home/Index" method="GET">
    <input name="categoria" type="hidden" value="@(Model.Categoria?.Id ?? 0)"/>
    <input name="search" type="text" value="@(Model.Search)"/>
    <input type="submit" value="buscar"/>
</form>


    <nav class="desplegable">

        

        <label for="checkdesplegable"><i class="fa fa-bars"></i></label>
        <input type="checkbox" id="checkdesplegable" />

        <div class="panel">

            <h1> Categorias </h1>

            <ul>
                @foreach (var cat in Model.Categorias)
                {
                    <li><a href="~/Home/Index?categoria=@(cat.Id)"> @(cat.Nombre)  </a></li>
                }
            </ul>
        </div>
    </nav>




<div class="mostradorTarjetas">
@foreach (var noti in Model.Noticias)
{
<div class="Cardnew">
    <a href='~/Ver/@(noti.Titulo.Replace(" ","-"))'>
        <img src="~/Images/@(noti.Id).jpg" />
        <nav class="info">
            <h1> @if(noti.Titulo.Length > 40) 
                    { @(noti.Titulo.Substring(0, 40) + "...") } 
                    else { @(noti.Titulo) }</h1>
            <h3> <b> @(noti.IdCategoriaNavigation.Nombre) </b></h3>
            <p> @(noti.Fecha) </p>
                <p class="infoDesc"> @if(noti.Contenido.Length > 45) 
                    { @(noti.Contenido.Substring(0, 45) + "...") } 
                    else { @(noti.Contenido) }
                </p>
        </nav>
   </a>
</div>
}
</div>